<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>2048 遊戲</title>
<style>
body { font-family: Arial, sans-serif; text-align:center; margin:50px; }
canvas { border:1px solid #ccc; }
</style>
</head>
<body>

<!-- 多语言选择 -->
<select id="langSelect">
  <option value="en">English</option>
  <option value="zh-tw">繁體中文</option>
  <option value="jp">日本語</option>
  <option value="de">Deutsch</option>
  <option value="fr">Français</option>
  <option value="es">Español</option>
  <option value="it">Italiano</option>
</select>

<h2 id="gameTitle">2048 遊戲</h2>
<p id="instruction">使用鍵盤方向鍵或滑動操作遊戲</p>
<p id="resultLabel">結果：</p>

<canvas id="gameCanvas" width="400" height="400"></canvas>

<script>
// 多语言数据
const i18n = {
  "en": {"title":"2048 Game","instruction":"Use arrow keys to play","result":"Result"},
  "zh-tw": {"title":"2048 遊戲","instruction":"使用鍵盤方向鍵或滑動操作遊戲","result":"結果"},
  "jp": {"title":"2048 ゲーム","instruction":"矢印キーでプレイ","result":"結果"},
  "de": {"title":"2048 Spiel","instruction":"Verwende die Pfeiltasten zum Spielen","result":"Ergebnis"},
  "fr": {"title":"Jeu 2048","instruction":"Utilisez les flèches pour jouer","result":"Résultat"},
  "es": {"title":"Juego 2048","instruction":"Usa las flechas para jugar","result":"Resultado"},
  "it": {"title":"Gioco 2048","instruction":"Usa le frecce per giocare","result":"Risultato"}
};

// 设置语言
function setLanguage(lang){
  document.getElementById("gameTitle").innerText = i18n[lang].title;
  document.getElementById("instruction").innerText = i18n[lang].instruction;
  document.getElementById("resultLabel").innerText = i18n[lang].result;
}

// 默认语言
let userLang = navigator.language.toLowerCase();
if(!i18n[userLang]) userLang="en";
setLanguage(userLang);

// 下拉菜单切换语言
document.getElementById("langSelect").addEventListener("change", function(){
  setLanguage(this.value);
});

// 简单游戏框架
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
let grid = [[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];

function drawGrid(){
  ctx.fillStyle="#eee";
  ctx.fillRect(0,0,400,400);
  for(let i=0;i<4;i++){
    for(let j=0;j<4;j++){
      ctx.fillStyle = grid[i][j]===0?"#ccc":"#f2b179";
      ctx.fillRect(j*100+5,i*100+5,90,90);
      if(grid[i][j]!==0){
        ctx.fillStyle="#000";
        ctx.font="30px Arial";
        ctx.fillText(grid[i][j], j*100+35, i*100+60);
      }
    }
  }
}
function addNumber(){
  let empty=[];
  for(let i=0;i<4;i++){
    for(let j=0;j<4;j++){
      if(grid[i][j]===0) empty.push([i,j]);
    }
  }
  if(empty.length===0) return;
  let [i,j] = empty[Math.floor(Math.random()*empty.length)];
  grid[i][j] = Math.random()<0.9?2:4;
}
addNumber();
addNumber();
drawGrid();
</script>

</body>
</html>